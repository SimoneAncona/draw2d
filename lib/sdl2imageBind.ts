import * as ffi from "ffi-napi";
import { getSDL2ImageLib } from "./getLibrary.js";
import { SDL2_RendererPtr, SDL2_SurfacePtr, SDL2_TexturePtr } from "./sdlTypes.js";

export const IMG_Init_Flags = {
	IMG_INIT_JPG: 0x00000001,
	IMG_INIT_PNG: 0x00000002,
	IMG_INIT_TIF: 0x00000004,
	IMG_INIT_WEBP: 0x00000008,
	IMG_INIT_JXL: 0x00000010,
	IMG_INIT_AVIF: 0x00000020
}

export const SDL_PIXEL_FORMAT = {
	SDL_PIXELFORMAT_UNKNOWN: 0,
	SDL_PIXELFORMAT_RGB444: 353504258,
	SDL_PIXELFORMAT_BGR444: 357698562,
	SDL_PIXELFORMAT_RGB555: 353570562,
	SDL_PIXELFORMAT_BGR555: 357764866,
	SDL_PIXELFORMAT_RGBA4444: 356651010,
	SDL_PIXELFORMAT_ARGB4444: 355602434,
	SDL_PIXELFORMAT_RGBA1555: 356782082,
	SDL_PIXELFORMAT_ARGB5551: 355667970,
	SDL_PIXELFORMAT_RGB565: 353701890,
	SDL_PIXELFORMAT_BGR565: 357896194,
	SDL_PIXELFORMAT_RGB888: 370546692,
	SDL_PIXELFORMAT_RGBA8888: 373694468,
	SDL_PIXELFORMAT_RGB332: 336660481
}

export const SDL_TEXTURE_ACCESS = {
	SDL_TEXTUREACCESS_STATIC: 0,
	SDL_TEXTUREACCESS_STREAMING: 1,
	SDL_TEXTUREACCESS_TARGET: 2
}

export const SDL2_IMAGE = ffi.Library(getSDL2ImageLib(), {
	"IMG_Load": [SDL2_SurfacePtr, ["string"]],
	"IMG_Init": ["int", ["int"]],
	"IMG_Quit": ["void", []],
	"IMG_LoadTexture": [SDL2_TexturePtr, [SDL2_RendererPtr, "string"]]
});